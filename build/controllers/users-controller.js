"use strict";var m=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var x=(e,s)=>{for(var t in s)m(e,t,{get:s[t],enumerable:!0})},E=(e,s,t,o)=>{if(s&&typeof s=="object"||typeof s=="function")for(let r of b(s))!y.call(e,r)&&r!==t&&m(e,r,{get:()=>s[r],enumerable:!(o=g(s,r))||o.enumerable});return e};var R=e=>E(m({},"__esModule",{value:!0}),e);var q={};x(q,{UsersController:()=>p});module.exports=R(q);var i=class{message;statusCode;constructor(s,t=400){this.message=s,this.statusCode=t}};var u=require("@prisma/client"),n=new u.PrismaClient({log:process.env.NODE_ENV==="production"?[]:["query"]});var d=require("bcrypt"),a=require("zod"),p=class{async create(s,t){let o=a.z.object({name:a.z.string().trim().min(2),email:a.z.string().email(),password:a.z.string().min(6)}),{name:r,email:c,password:w}=o.parse(s.body);if(await n.user.findFirst({where:{email:c}}))throw new i("User with same email already exists");let h=await(0,d.hash)(w,8),l=await n.user.create({data:{name:r,email:c,password:h}}),{password:S,...f}=l;return t.status(201).json(f)}};0&&(module.exports={UsersController});
//# sourceMappingURL=users-controller.js.map