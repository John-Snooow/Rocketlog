"use strict";var n=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var y=Object.prototype.hasOwnProperty;var C=(r,s)=>{for(var e in s)n(r,e,{get:s[e],enumerable:!0})},E=(r,s,e,a)=>{if(s&&typeof s=="object"||typeof s=="function")for(let t of x(s))!y.call(r,t)&&t!==e&&n(r,t,{get:()=>s[t],enumerable:!(a=b(s,t))||a.enumerable});return r};var q=r=>E(n({},"__esModule",{value:!0}),r);var S={};C(S,{usersRoutes:()=>h});module.exports=q(S);var w=require("express");var i=class{message;statusCode;constructor(s,e=400){this.message=s,this.statusCode=e}};var c=require("@prisma/client"),p=new c.PrismaClient({log:process.env.NODE_ENV==="production"?[]:["query"]});var d=require("bcrypt"),o=require("zod"),m=class{async create(s,e){let a=o.z.object({name:o.z.string().trim().min(2),email:o.z.string().email(),password:o.z.string().min(6)}),{name:t,email:u,password:l}=a.parse(s.body);if(await p.user.findFirst({where:{email:u}}))throw new i("User with same email already exists");let f=await(0,d.hash)(l,8),g=await p.user.create({data:{name:t,email:u,password:f}}),{password:j,...R}=g;return e.status(201).json(R)}};var h=(0,w.Router)(),P=new m;h.post("/",P.create);0&&(module.exports={usersRoutes});
//# sourceMappingURL=users-routes.js.map